@page
@using Microsoft.AspNetCore.Mvc.RazorPages
@using RedditBusinessLayer.Entities
@using RedditBusinessLayer.Interfaces
@model IndexModel
@{
    ViewData["Title"] = "Home";
}

<h1>Subreddits</h1>

<ul>
    @foreach (var subreddit in Model.Subreddits)
    {
        <li>
            <h2>@subreddit.Name</h2>
            <ul>
                @foreach (var post in subreddit.Posts)
                {
                    <li class="post">
                        <h3>@post.Title</h3>
                        <p>@post.Content</p>
                        <a asp-page="/EditPost" asp-route-id="@post.Id">Edit</a> |
                        <a asp-page="/DeletePost" asp-route-id="@post.Id">Delete</a>
                    </li>
                }
            </ul>
        </li>
    }
</ul>

<style>
    .post {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 10px;
    }
</style>